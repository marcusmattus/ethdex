{"ast":null,"code":"var _jsxFileName = \"/Users/marcusmattus/ethdex/src/components/Timer/Timer.tsx\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const Timer = ({\n  expiryTime = Date.now() / 1000 + 300,\n  onTimerComplete\n}) => {\n  _s();\n\n  const [distance, setDistance] = useState(Math.floor(expiryTime - Date.now() / 1000));\n  useEffect(() => {\n    let interval = setInterval(() => {\n      const dist = Math.floor(expiryTime - Date.now() / 1000);\n\n      if (dist <= 0) {\n        setDistance(0);\n        clearInterval(interval);\n        onTimerComplete && onTimerComplete();\n        return;\n      }\n\n      setDistance(dist);\n    }, 1000);\n    return () => {\n      clearInterval(interval);\n    };\n  }, [expiryTime, onTimerComplete]);\n  return distance !== undefined ? /*#__PURE__*/_jsxDEV(\"span\", {\n    children: [Math.floor(distance / 60), \":\", Math.floor(distance % 60) < 10 ? `0${Math.floor(distance % 60)}` : Math.floor(distance % 60)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 5\n  }, this) : null;\n};\n\n_s(Timer, \"1zOTzozZ4kYqAEpnzvL7u+CknMo=\");\n\n_c = Timer;\nexport default Timer;\n\nvar _c;\n\n$RefreshReg$(_c, \"Timer\");","map":{"version":3,"sources":["/Users/marcusmattus/ethdex/src/components/Timer/Timer.tsx"],"names":["useState","useEffect","Timer","expiryTime","Date","now","onTimerComplete","distance","setDistance","Math","floor","interval","setInterval","dist","clearInterval","undefined"],"mappings":";;;AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;;AAUA,OAAO,MAAMC,KAAK,GAAG,CAAC;AACpBC,EAAAA,UAAU,GAAGC,IAAI,CAACC,GAAL,KAAa,IAAb,GAAoB,GADb;AAEpBC,EAAAA;AAFoB,CAAD,KAGH;AAAA;;AAChB,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BR,QAAQ,CACtCS,IAAI,CAACC,KAAL,CAAWP,UAAU,GAAGC,IAAI,CAACC,GAAL,KAAa,IAArC,CADsC,CAAxC;AAIAJ,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIU,QAAQ,GAAGC,WAAW,CAAC,MAAM;AAC/B,YAAMC,IAAY,GAAGJ,IAAI,CAACC,KAAL,CAAWP,UAAU,GAAGC,IAAI,CAACC,GAAL,KAAa,IAArC,CAArB;;AAEA,UAAIQ,IAAI,IAAI,CAAZ,EAAe;AACbL,QAAAA,WAAW,CAAC,CAAD,CAAX;AACAM,QAAAA,aAAa,CAACH,QAAD,CAAb;AACAL,QAAAA,eAAe,IAAIA,eAAe,EAAlC;AACA;AACD;;AAEDE,MAAAA,WAAW,CAACK,IAAD,CAAX;AACD,KAXyB,EAWvB,IAXuB,CAA1B;AAYA,WAAO,MAAM;AACXC,MAAAA,aAAa,CAACH,QAAD,CAAb;AACD,KAFD;AAGD,GAhBQ,EAgBN,CAACR,UAAD,EAAaG,eAAb,CAhBM,CAAT;AAkBA,SAAOC,QAAQ,KAAKQ,SAAb,gBACL;AAAA,eACGN,IAAI,CAACC,KAAL,CAAWH,QAAQ,GAAG,EAAtB,CADH,OAEGE,IAAI,CAACC,KAAL,CAAWH,QAAQ,GAAG,EAAtB,IAA4B,EAA5B,GACI,IAAGE,IAAI,CAACC,KAAL,CAAWH,QAAQ,GAAG,EAAtB,CAA0B,EADjC,GAEGE,IAAI,CAACC,KAAL,CAAWH,QAAQ,GAAG,EAAtB,CAJN;AAAA;AAAA;AAAA;AAAA;AAAA,UADK,GAOH,IAPJ;AAQD,CAlCM;;GAAML,K;;KAAAA,K;AAoCb,eAAeA,KAAf","sourcesContent":["import { useState, useEffect } from \"react\";\n\nexport type TimerProps = {\n  /**\n   * Expiration time in unix timestamp (s)\n   */\n  expiryTime: number;\n  onTimerComplete?: () => void;\n};\n\nexport const Timer = ({\n  expiryTime = Date.now() / 1000 + 300,\n  onTimerComplete,\n}: TimerProps) => {\n  const [distance, setDistance] = useState<number>(\n    Math.floor(expiryTime - Date.now() / 1000)\n  );\n\n  useEffect(() => {\n    let interval = setInterval(() => {\n      const dist: number = Math.floor(expiryTime - Date.now() / 1000);\n\n      if (dist <= 0) {\n        setDistance(0);\n        clearInterval(interval);\n        onTimerComplete && onTimerComplete();\n        return;\n      }\n\n      setDistance(dist);\n    }, 1000);\n    return () => {\n      clearInterval(interval);\n    };\n  }, [expiryTime, onTimerComplete]);\n\n  return distance !== undefined ? (\n    <span>\n      {Math.floor(distance / 60)}:\n      {Math.floor(distance % 60) < 10\n        ? `0${Math.floor(distance % 60)}`\n        : Math.floor(distance % 60)}\n    </span>\n  ) : null;\n};\n\nexport default Timer;\n"]},"metadata":{},"sourceType":"module"}